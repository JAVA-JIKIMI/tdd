# 3부 테스트 주도 개발의 패턴

## 인상 깊었던 내용

### 25장 테스트 주도 개발 패턴 > 테스트 데이터
테스트 작성에도 청중이 존재한다. 단지 데이터 값을 산발하기 위해 데이터 값을 산발하지 마라.  
데이터 간에 차이가 있다면 그 속에 어떤 의미가 있어야 한다.  
1과 2 사이에 어떠한 개념적 차이점도 없다면 1을 사용하라. - p. 213 

-> 값을 의미없이 막 적으면서 테스트하지 않도록 하자.

### 26장 빨간 막대 패턴 > 휴식
피로는 판단력에 음성적인 영향을 끼치고, 판단력은 다시 피로에 음성적인 영향을 끼친다.  - p. 226
```
-> 피로 ---> 판단력  
      <-----|
```
이 고리에서 빠져나가는 방법은 추가로 외부 요소를 도입하는 것이다.
- 시간 단위로는, 물병을 키보드 옆에 두어서 생리 현상으로 규칙적인 휴식을 하도록 유도하라.
- 하루 단위로는, 더 진행하기 전에 잠이 필요한 경우 정규 근무 시간 후의 약속이 진행을 일단 멈추는 데에 도움이 될 수 있다.
- 주 단위로는, 의식적이고 에너지 소모적인 업무 관련 생각을 떨쳐버리는 데에 주말 활동이 도움이 된다. (내 아내는 내가 최고의 아이디어를 얻는 때가 금요일 저녁이라는 사실을 잘 안다.)
- 년 단위로는, 강제 휴가 정책이 여러분의 재충전을 완벽히 도와줄 것이다. 프랑스에서는 이 제도를 잘 수행한다. 하지만 연속 2주일은 충분하지 않다. 첫 주에는 그 동안 쌓인 긴장을 완화하고, 마지막 주에는 다시 일을 시작할 준비를 해야 한다. 따라서 효과적인 휴식을 위해서는 3주 정도 필요하다. 4주면 더 좋고.


### 26장 빨간 막대 패턴 > 한 단계 테스트
목록에서 다음 테스트를 고를 때 무엇을 기준으로 할 것인가?
여러분에게 새로운 무언가를 가르쳐 줄 수 있으며, 구현할 수 있다는 확신이 드는 테스트를 고를 것.  
(중략)  
내가 테스트 목록을 볼 땐 보통 이런 식이다. "이건 뻔하지, 이것도 뻔하고, 이건 잘 모르겠군, 이건 뻔하고, 이건... 
내가 무슨 생각으로 적은 거지? 아, 이건 할 수 있겠다."
이 마지막 테스트가 바로 내가 다음으로 구현할 테스트인 것이다. 뻔하진 않지만 구현할 수 있다는 확신이 있다. - p.217,218 

### 27장 테스팅 패턴 > 크래시 테스트 더미
테스트되지 않은 코드는 작동하는 것이 아니다. 이것이 안전한 가정 같다.  
그렇다면 수많은 에러 상황에 대해서는 어떻게 테스트할 것인가? 이것들도 다 테스트해야 할까?  
작동하길 원하는 부분에 대해서만 하면 된다. - p. 238

### 27장 테스팅 패턴 > 깨진 테스트
혼자서 프로그래밍 할 때 프로그래밍 세션을 어떤 상태로 끝마지는게 좋을까?  
마지막 테스트가 깨진 상태로 끝마치는 것이 좋다.  
글 쓰기 세션을 끝낼 때 문장 중간까지만 써놓고 멈추는 트릭은 리챠드 가브리엘이 내게 알려준 것이다.  
다음에 다시 글을 쓰기 위해 앉았을 때, 반 쪽짜리 문장을 보면 전에 그 문장을 쓸 때 무슨 생각을 했는지 떠올리게 된다.
일단 생각의 실마리를 다시 떠올리고 나면 문장을 마무리하고 계속 진행할 수 있다. 
그 문장을 끝마치려는 충동이 없으면 다음에 뭘 해야 할지 주섬주섬 찾느라 꽤 많은 시간을 써버릴 테고, 
그러고 나서는 당신의 정신 상태를 기억해내려고 노력하고, 또 그러고 나서야 마침내 타이핑하기 시작할 것이다. - p.239,240

### 28장 초록 막대 패턴 > 가짜로 구현하기 (진짜로 만들기 전까지만)
어떤 사람들은 가짜로 구현하기에 꽤나 화를 내기도 한다. 왜 들어낼 걸 알면서도 그걸 해야 하나?
왜냐하면 뭔가 돌아가는 걸 가진 게 그렇지 않은 것보다 좋기 때문이다.
특히 그걸 증명하기 위한 테스트가 있는 상황이라면. 피터 한슨이 다음이야기를 보내줬다.  
(중략. 가짜 구현을 통해 테스트가 잘못 작성되었다는 것을 알아냈고, 그 과정에서 들인 시간이 적었음이 장점)  

-> 가짜로 구현하기의 두 가지 효과
- 심리학적 : 초록 막대일 때, 확신을 갖고 거기부터 리팩토링 가능
- 범위(scope) 조절 : 작업 범위를 조절. 다음 테스트 케이스를 구현할 때, 이전 테스트의 작동이 보장된다는 것을 알기 때문에 그 다음 테스트 케이스에도 집중할 수 있다.

### 28장 초록 막대 패턴 > 삼각측량
추상과 과정을 테스트로 주도할 때 어떻게 최대한 보수적으로 할 수 있겠는가?  
오로지 예가 두 개 이상일 때에만 추상화를 하라. - p.247

1. 테스트 코드 작성
2. 초록막대 : 죄악을 저질러 코드 구현(상수로 리턴)
3. 실제 코드 작성.   
이 단계에서 어떻게 추상화할 것인가가 감이 오지 않을 때, 테스트 코드를 여러개 작성해보면서 감을 잡는게 삼각측량

