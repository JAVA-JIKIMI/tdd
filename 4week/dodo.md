### 테스트 주도 개발 패턴

- 테스트는 서로간 영향을 주지않도록 격리되어야 한다. *206p*
    - 문제가 두개면 테스트도 하나만 실패해야 한다.
    - 격리된 테스트들은 실행 순서에 독립적이다.

  ⇒  테스트를 격리하기 위해서는 결과적으로 테스트의 대상이 되는 코드가 높은 응집과 낮은 결합도의 객체가 되어야 한다.

- 테스트(할일) 목록은 따로 적어두며 하나씩 진행하자 *208p*
    - 테스트간 얻게되는 인사이트를 적용한 대상이 많으면 심적으로 이를 수정하기에 허들이 된다.
    - 빨리 초록 막대를 볼 방법은 하나의 테스트만 작성하고 통과시키는 방법이다.
    - 새 아이디어가 떠오르면 존중하고 맞이하되, 그것이 내 주의를 흩뜨리지 않게 해야 한다. *224p*
- 테스트를 작성할 때 단언(assert)를 가장 먼저 쓰고 시작하라 *211p*
    - 구현에 대해 고려하지 않아 작업을 단순하게 만드는 효과가 있다.
- 테스트 자체에 예상되는 값과 실제 값을 포함하고 이 둘의 관계를 드러내기 위해 노력하자 *214p*
    - 다음에 코드를 읽는 사람을 위해

### 빨간막대

- 아는 것에서 모르는 것으로 테스트를 작성한다.  *219p*
    - 우리가 지식과 경험을 가지고 개발을 시작한다는 점 그리고 테스트를 하는 중에 새로운 것을 배우게 될 것이므로.
- 가장 먼저 테스트할 것은 아무 일도 하지 않는 경우다. *220p*
    - 가장 빠르게 뭔가를 배울 수 있으면서도 빠르게 구현할 수 있는 테스트다.
- 자동화된 테스트가 더 널리 쓰이게 하려면, 테스트를 통해 설명을 요청하고 테스트를 통해 설명하라 *221p*
- 장애가 보고되면 그 장애로 인해 실패하는 테스트 그리고 통과할 경우엔 장애가 수정되었다고 볼 수있는 테스트를 가장 간단하게 작성하자 *224p*
    - 회귀 테스트란 완벽한 선견지명이 있었다면 처음 코딩할 때 작성했었어야 하는 테스트다. 이를 놓쳤을 때, 어떻게 하면 애초에 알 수 있었을지 항상 생각해보자 *224p*


### 초록 막대

- “제대로 동작하는”을 푸는 동시에 “깨끗한 코드”를 해결하려는 것은 너무 많은 일일 수 있다. 각자 해결하자 *249p*

### 설계 문제가 있음을 알려주는 테스트의 속성

- 긴 셋업 코드: 객체가 큰 경우 나타난다.
- 셋업 중복: 공통 셋업 코드를 넣어둘 장소를 찾기 힘들다면, 객체가 서로 밀접하게 엉킨 상태라는 뜻이다.
- 실행 시간이 오래걸리는 테스트: 애플리케이션을 작은 부분만 따로 테스트하기 힘들다는 것을 의미하며, 이는 설계 문제를 의미하며 설계를 적절히 변경해주어야 한다.
- 깨지기 쉬운 테스트: 애플리케이션의 특정 부분이 다른 부분에 이상한 방법으로 영향을 끼친다는 뜻이다. 테스트를 합치거나 연결을 끊어야 한다.

*310p*

### 프로젝트 중반에 TDD를 도입하려면?

테스트를 염두에 두지 않고 만든 코드는 테스트하기가 그리 쉽지 않다. 이를 리팩토링하게 된다면, 그 과정에서 에러를 만들 수 있고 이는 아직 테스트가 없기 때문에 에러가 생겼다는 점을 알아낼 수 없다.

⇒ 모든 작업을 멈추고 리팩토링하는 것은 어렵다. 자주 변경되는 지점을 찾아 그 부분을 먼저 개선하자. 당장 변할 필요가 없는 부분은 그대로 놔둔다.

*318p*

TDD는 시간이 지남에 따라 코드에 대한 자신감을 점점 더 쌓아갈 수 있게 해주지만, 테스트가 없는 코드들은 시간이 지남에 따라 서서히 코드가 썩어가는 걸 보게 된다.

*320p*